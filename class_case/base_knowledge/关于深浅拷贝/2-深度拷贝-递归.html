<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			
		</style>
		<script>
			/*
				deep:深度
				breadth: 广度
			*/
			function createData(deep,breadth){
				
				let data = {},temp = data;
				for( var i = 0; i <= deep; i++ ){
					temp = temp['data'] = {};
					for( var j = 0; j <= breadth; j++ ){
						temp[j] = j;	
					}
				};

				return data;
			}
			let data = createData(6000);

			// 问题：如果深度拷贝的层级比较深，会在递归造成内存溢出
			// 解决：使用while循环，不使用递归循环

			function clone(source) {
			    var target = {};
			    for(var i in source) {
			        if (source.hasOwnProperty(i)) {
			            if (typeof source[i] === 'object') {
			                target[i] = clone(source[i]); // 注意这里
			            } else {
			                target[i] = source[i];
			            }
			        }
			    }

			    return target;
			}
			

			console.log(clone(data));
			console.log(n);

		</script>
	</head>

	<body>
		
	</body>
</html>