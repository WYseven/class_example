<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title></title>
  <style>

  </style>
  <script>

    // 击鼓传花

    let str1 = 'cdcabcnacdcaaaaannadcdch1111dh';
    let str2 = 'cdc';

    console.log(findUSLLength(str1, str2));

    // 找到两个字符串非重合部分最长的长度 例如 abc 和 cdc 两个不重合，长度为3
    // abcfired cdc 长度为cdc
    // abcand  abc  长度为4 cand是不重合部分

    function findUSLLength(a, b) {
      let min, max;
      if (a.length >= b.length) {
        max = a;
        min = b;
      }
      if (a.length <= b.length) {
        max = b;
        min = a;
      }
      let index = -1, len = -1, maxLen = max.length, minLen = min.length;
      let prevIndex = -1;
      while ((index = max.indexOf(min, index + 1)) !== -1) {
        if (prevIndex !== -1) {
          let abc = index - (prevIndex + minLen);
          if (abc > len) {
            len = abc;
          }
        }
        prevIndex = index;
      }
      if (len < maxLen - (prevIndex + minLen)) {
        len = maxLen - (prevIndex + minLen);
        return len;
      }

      if (max.indexOf(min) === -1) {
        len = min.length
      }

      return len;
    }

    console.log(findUSLLength(str1, str2));

  </script>
</head>

<body>
</body>

</html>